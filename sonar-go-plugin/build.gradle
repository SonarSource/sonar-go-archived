plugins {
    id "com.github.johnrengelman.shadow" version "2.0.2"
}

apply plugin: 'java'


dependencies {
    compile project(":common-rule-engine")

    compile "com.google.code.gson:gson:2.8.2"
    compile "org.sonarsource.analyzer-commons:sonar-analyzer-commons:1.5.0.178"
    compile "org.sonarsource.sonarqube:sonar-plugin-api:6.7"
    compileOnly 'com.google.code.findbugs:jsr305:1.3.9'
}

shadowJar {
    manifest {
        attributes(
                'Plugin-Key': 'go',
                'Plugin-Version': '1.0-SNAPSHOT',
                'Plugin-Class': 'org.sonar.go.plugin.GoPlugin',
                'Plugin-ChildFirstClassLoader': 'false',
                'Sonar-Version': '6.7',
                'SonarLint-Supported': 'true',
                'Plugin-Name': 'SonarGo',
                'Plugin-License': 'LGPLv3'
        )
    }
}

artifacts {
    archives shadowJar
}
