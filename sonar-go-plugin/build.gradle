plugins {
    id "com.github.johnrengelman.shadow" version "2.0.2"
}

apply plugin: 'java'


dependencies {
    compile project(":common-rule-engine")
    compile project(":uast-generator-go")

    compile "org.sonarsource.sonarqube:sonar-plugin-api:6.7"
    compileOnly 'com.google.code.findbugs:jsr305:1.3.9'
}

shadowJar {
    manifest {
        attributes(
                'Plugin-Key': 'go',
                'Plugin-Version': '1.0-SNAPSHOT',
                'Plugin-Class': 'org.sonar.go.plugin.GoPlugin',
                'Plugin-ChildFirstClassLoader': 'false',
                'Sonar-Version': '6.7',
                'SonarLint-Supported': 'true',
                'Plugin-Name': 'SonarGo',
                'Plugin-License': 'LGPLv3'
        )
    }
    dependencies {
        include(project(':uast-generator-go'))
        include(project(':common-rule-engine'))
    }
}

artifacts {
    archives shadowJar
}
